(function(c){var d={},a=/^(([a-z][\-a-z0-9+\.]*):)?(\/\/([^\/?#]+))?([^?#]*)?(\?([^#]*))?(#(.*))?$/i,g,b=function(i){var h=i.match(a);if(h===null){throw"Malformed URI: "+i}return{scheme:h[1]?h[2].toLowerCase():undefined,authority:h[3]?h[4]:undefined,path:h[5]||"",query:h[6]?h[7]:undefined,fragment:h[8]?h[9]:undefined}},f=function(i){var j="",h=[];if(/\./.test(i)){while(i!==undefined&&i!==""){if(i==="."||i===".."){i=""}else{if(/^\.\.\//.test(i)){i=i.substring(3)}else{if(/^\.\//.test(i)){i=i.substring(2)}else{if(/^\/\.(\/|$)/.test(i)){i="/"+i.substring(3)}else{if(/^\/\.\.(\/|$)/.test(i)){i="/"+i.substring(4);j=j.replace(/\/?[^\/]+$/,"")}else{h=i.match(/^(\/?[^\/]*)(\/.*)?$/);i=h[2];j=j+h[1]}}}}}}return j}else{return i}},e=function(h,i){if(h.authority!==""&&(h.path===undefined||h.path==="")){return"/"+i}else{return h.path.replace(/[^\/]+$/,"")+i}};c.uri=function(j,i){var h;j=j||"";if(d[j]){return d[j]}i=i||c.uri.base();if(typeof i==="string"){i=c.uri.absolute(i)}h=new c.uri.fn.init(j,i);if(d[h]){return d[h]}else{d[h]=h;return h}};c.uri.fn=c.uri.prototype={scheme:undefined,authority:undefined,path:undefined,query:undefined,fragment:undefined,init:function(j,i){var h={};i=i||{};c.extend(this,b(j));if(this.scheme===undefined){this.scheme=i.scheme;if(this.authority!==undefined){this.path=f(this.path)}else{this.authority=i.authority;if(this.path===""){this.path=i.path;if(this.query===undefined){this.query=i.query}}else{if(!/^\//.test(this.path)){this.path=e(i,this.path)}this.path=f(this.path)}}}if(this.scheme===undefined){throw"Malformed URI: URI is not an absolute URI and no base supplied: "+j}return this},resolve:function(h){return c.uri(h,this)},relative:function(q){var n,o,m=0,k,l=[],h="";if(typeof q==="string"){q=c.uri(q,{})}if(q.scheme!==this.scheme||q.authority!==this.authority){return q.toString()}if(q.path!==this.path){n=q.path.split("/");o=this.path.split("/");if(n[1]!==o[1]){h=q.path}else{while(n[m]===o[m]){m+=1}k=m;for(;m<o.length-1;m+=1){l.push("..")}for(;k<n.length;k+=1){l.push(n[k])}h=l.join("/")}h=q.query===undefined?h:h+"?"+q.query;h=q.fragment===undefined?h:h+"#"+q.fragment;return h}if(q.query!==undefined&&q.query!==this.query){return"?"+q.query+(q.fragment===undefined?"":"#"+q.fragment)}if(q.fragment!==undefined&&q.fragment!==this.fragment){return"#"+q.fragment}return""},toString:function(){var h="";if(this._string){return this._string}else{h=this.scheme===undefined?h:(h+this.scheme+":");h=this.authority===undefined?h:(h+"//"+this.authority);h=h+this.path;h=this.query===undefined?h:(h+"?"+this.query);h=this.fragment===undefined?h:(h+"#"+this.fragment);this._string=h;return h}}};c.uri.fn.init.prototype=c.uri.fn;c.uri.absolute=function(h){return c.uri(h,{})};c.uri.resolve=function(i,h){return c.uri(i,h)};c.uri.relative=function(i,h){return c.uri(h,{}).relative(i)};c.uri.base=function(){return c(document).base()};c.fn.base=function(){var h=c(this).parents().andSelf().find("base").attr("href"),i=c(this)[0].ownerDocument||document,j=c.uri.absolute(i.location===null?document.location.href:i.location.href);return h===undefined?j:c.uri(h,j)}})(jQuery);(function(e){var a="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",c=/\sxmlns(?::([^ =]+))?\s*=\s*(?:"([^"]*)"|'([^']*)')/g,f="[-A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\u00B7\u0300-\u036F\u203F-\u2040]",b="[\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]",d=new RegExp("^"+b+f+"*$");e.fn.xmlns=function(m,j,n){var k=this.eq(0),r=k.data("xmlns"),o=k[0],s,h,l,q=m?"xmlns:"+m:"xmlns",t,w,u=false;if(j===undefined){if(m===undefined){if(r===undefined){r={};if(o.attributes&&o.attributes.getNamedItemNS){for(l=0;l<o.attributes.length;l+=1){s=o.attributes[l];if(/^xmlns(:(.+))?$/.test(s.nodeName)){m=/^xmlns(:(.+))?$/.exec(s.nodeName)[2]||"";t=s.nodeValue;if(m===""||(t!==""&&t!==a&&t!==g&&d.test(m)&&m!=="xml"&&m!=="xmlns")){r[m]=e.uri(s.nodeValue);u=true}}}}else{w=/<[^>]+>/.exec(o.outerHTML);s=c.exec(w);while(s!==null){m=s[1]||"";t=s[2]||s[3];if(m===""||(t!==""&&t!==a&&t!==g&&d.test(m)&&m!=="xml"&&m!=="xmlns")){r[m]=e.uri(s[2]||s[3]);u=true}s=c.exec(w)}c.lastIndex=0}n=n||(o.parentNode.nodeType===1?k.parent().xmlns():{});r=u?e.extend({},n,r):n;k.data("xmlns",r)}return r}else{if(typeof m==="object"){for(h in m){if(typeof m[h]==="string"&&d.test(h)){this.xmlns(h,m[h])}}this.find("*").andSelf().removeData("xmlns");return this}else{if(r===undefined){r=k.xmlns()}return r[m]}}}else{this.find("*").andSelf().removeData("xmlns");return this.attr(q,j)}};e.fn.removeXmlns=function(k){var h,l,j;if(typeof k==="object"){if(k.length===undefined){for(l in k){if(typeof k[l]==="string"){this.removeXmlns(l)}}}else{for(j=0;j<k.length;j+=1){this.removeXmlns(k[j])}}}else{h=k?"xmlns:"+k:"xmlns";this.removeAttr(h)}this.find("*").andSelf().removeData("xmlns");return this};e.fn.qname=function(i){var h,k,j;if(i===undefined){if(this[0].outerHTML===undefined){i=this[0].nodeName.toLowerCase()}else{i=/<([^ >]+)/.exec(this[0].outerHTML)[1].toLowerCase()}}if(i==="?xml:namespace"){throw"XMLinHTML: Unable to get the prefix to resolve the name of this element"}h=/^(([^:]+):)?([^:]+)$/.exec(i);k=h[2]||"";j=this.xmlns(k);if(j===undefined&&k!==""){throw"MalformedQName: The prefix "+k+" is not declared"}return{namespace:j,localPart:h[3],prefix:k,name:i}}})(jQuery);(function(b){var a=function(c){return c.replace(/[ \t\n\r]+/," ").replace(/^ +/,"").replace(/ +$/,"")};b.typedValue=function(d,c){return b.typedValue.fn.init(d,c)};b.typedValue.fn=b.typedValue.prototype={representation:undefined,value:undefined,datatype:undefined,init:function(e,c){var f=b.typedValue.types[c];if(b.typedValue.valid(e,c)){this.representation=e;this.datatype=c;this.value=f===undefined?a(e):f.value(f.strip?a(e):e);return this}else{throw {name:"InvalidValue",message:e+" is not a valid "+c+" value"}}}};b.typedValue.fn.init.prototype=b.typedValue.fn;b.typedValue.types={};b.typedValue.types["http://www.w3.org/2001/XMLSchema#string"]={regex:/^.*$/,strip:false,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#token"]={regex:/^.*$/,strip:true,value:function(c){return a(c)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#NCName"]={regex:/^[a-z_][-\.a-z0-9]+$/i,strip:true,value:function(c){return a(c)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#boolean"]={regex:/^(?:true|false|1|0)$/,strip:true,value:function(c){return c==="true"||c==="1"}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#decimal"]={regex:/^[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)$/,strip:true,value:function(c){c=c.replace(/^0+/,"").replace(/0+$/,"");if(c===""){c="0.0"}if(c.substring(0,1)==="."){c="0"+c}if(/\.$/.test(c)){c=c+"0"}else{if(!/\./.test(c)){c=c+".0"}}return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#integer"]={regex:/^[\-\+]?[0-9]+$/,strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#int"]={regex:/^[\-\+]?[0-9]+$/,strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"]={regex:/^(?:[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)(?:[eE][\-\+]?[0-9]+)?|[\-\+]?INF|NaN)$/,strip:true,value:function(c){if(c==="-INF"){return -1/0}else{if(c==="INF"||c==="+INF"){return 1/0}else{return parseFloat(c)}}}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#double"]={regex:b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].regex,strip:true,value:b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].value};b.typedValue.types["http://www.w3.org/2001/XMLSchema#duration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:([0-9]+(?:\.[0-9]+))?S)?)$/,validate:function(d){var c=this.regex.exec(d);return c[2]||c[3]||c[4]||c[5]||c[6]||c[7]},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#yearMonthDuration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/,validate:function(d){var c=this.regex.exec(d);return c[2]||c[3]},strip:true,value:function(e){var d=this.regex.exec(e),f=d[2]||0,c=d[3]||0;c+=f*12;return d[1]==="-"?-1*c:c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#dateTime"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):(([0-9]{2})(\.([0-9]+))?)((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(d){var c=this.regex.exec(d),g=parseInt(c[1],10),i=c[10]===undefined||c[10]==="Z"?"+0000":c[10].replace(/:/,""),f;if(g===0||parseInt(i,10)<-1400||parseInt(i,10)>1400){return false}try{g=g<100?Math.abs(g)+1000:g;month=parseInt(c[2],10);day=parseInt(c[3],10);if(day>31){return false}else{if(day>30&&!(month===1||month===3||month===5||month===7||month===8||month===10||month===12)){return false}else{if(month===2){if(day>29){return false}else{if(day===29&&(g%4!==0||(g%100===0&&g%400!==0))){return false}}}}}f=""+g+"/"+c[2]+"/"+c[3]+" "+c[4]+":"+c[5]+":"+c[7]+" "+i;f=new Date(f);return true}catch(h){return false}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#date"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var c=this.regex.exec(e),f=parseInt(c[1],10),g=parseInt(c[2],10),d=parseInt(c[3],10),h=c[10]===undefined||c[10]==="Z"?"+0000":c[10].replace(/:/,"");if(f===0||g>12||d>31||parseInt(h,10)<-1400||parseInt(h,10)>1400){return false}else{return true}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#gYear"]={regex:/^-?([0-9]{4,})$/,validate:function(c){var d=parseInt(c,10);return d!==0},strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#gMonthDay"]={regex:/^--([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var c=this.regex.exec(e),f=parseInt(c[1],10),d=parseInt(c[2],10),g=c[3]===undefined||c[3]==="Z"?"+0000":c[3].replace(/:/,"");if(f>12||d>31||parseInt(g,10)<-1400||parseInt(g,10)>1400){return false}else{if(f===2&&d>29){return false}else{if((f===4||f===6||f===9||f===11)&&d>30){return false}else{return true}}}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#anyURI"]={regex:/^.*$/,strip:true,value:function(c,d){var e=b.extend({},b.typedValue.defaults,d);return b.uri.resolve(c,e.base)}};b.typedValue.defaults={base:b.uri.base(),namespaces:{}};b.typedValue.valid=function(e,c){var f=b.typedValue.types[c];if(f===undefined){return true}else{e=f.strip?a(e):e;if(f.regex.test(e)){return f.validate===undefined?true:f.validate(e)}else{return false}}}})(jQuery);(function(a){a.curie=function(f,c){var g=a.extend({},a.curie.defaults,c||{}),b=/^(([^:]*):)?(.+)$/.exec(f),h=b[2],d=b[3],e=g.namespaces[h];if(/^:.+/.test(f)){if(g.reservedNamespace===undefined||g.reservedNamespace===null){throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+f}else{e=g.reservedNamespace}}else{if(h){if(e===undefined){throw"Malformed CURIE: No namespace binding for "+h+" in CURIE "+f}}else{if(g.charcase==="lower"){f=f.toLowerCase()}else{if(g.charcase==="upper"){f=f.toUpperCase()}}if(g.reserved.length&&a.inArray(f,g.reserved)>=0){e=g.reservedNamespace;d=f}else{if(g.defaultNamespace===undefined||g.defaultNamespace===null){throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+f}else{e=g.defaultNamespace}}}}return a.uri(e+d)};a.curie.defaults={namespaces:{},reserved:[],reservedNamespace:undefined,defaultNamespace:undefined,charcase:"preserve"};a.safeCurie=function(d,c){var b=/^\[([^\]]+)\]$/.exec(d);return b?a.curie(b[1],c):a.uri(d)};a.createCurie=function(f,b){var e=a.extend({},a.curie.defaults,b||{}),d=e.namespaces,c;f=a.uri(f).toString();if(e.reservedNamespace!==undefined&&f.substring(0,e.reservedNamespace.toString().length)===e.reservedNamespace.toString()){c=f.substring(e.reservedNamespace.toString().length);if(a.inArray(c,e.reserved)===-1){c=":"+c}}else{a.each(d,function(h,g){if(f.substring(0,g.toString().length)===g.toString()){c=h+":"+f.substring(g.toString().length);return null}})}if(c===undefined){throw"No Namespace Binding: There's no appropriate namespace binding for generating a CURIE from "+f}else{return c}};a.fn.curie=function(c,b){var d=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.curie(c,d)};a.fn.safeCurie=function(d,b){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.safeCurie(d,c)};a.fn.createCurie=function(d,b){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.createCurie(d,c)};a.fn.curie.defaults={reserved:["alternate","appendix","bookmark","cite","chapter","contents","copyright","first","glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],reservedNamespace:"http://www.w3.org/1999/xhtml/vocab#",defaultNamespace:undefined,charcase:"lower"}})(jQuery);(function(B){var e={},b={},r={},A={},o={},g="http://www.w3.org/2001/XMLSchema#",t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s="http://www.w3.org/2000/01/rdf-schema#",x=/^<(([^>]|\\>)*)>$/,L=/^("""((\\"|[^"])*)"""|"((\\"|[^"])*)")(@([a-z]+(-[a-z0-9]+)*)|\^\^(.+))?$/,f=/(("""((\\"|[^"])*)""")|("(\\"|[^"]|)*")|(<(\\>|[^>])*>)|\S)+/g,u=databankSeed=new Date().getTime()%1000,h=function(){u+=1;return"b"+u.toString(16)},E=function(){databankSeed+=1;return"data"+databankSeed.toString(16)},F={},K={},i=function(O,P){if(typeof O==="string"){try{return B.rdf.resource(O,P)}catch(R){try{return B.rdf.blank(O,P)}catch(Q){throw"Bad Triple: Subject "+O+" is not a resource: "+Q}}}else{return O}},J=function(P,O){if(P==="a"){return B.rdf.type}else{if(typeof P==="string"){try{return B.rdf.resource(P,O)}catch(Q){throw"Bad Triple: Property "+P+" is not a resource: "+Q}}else{return P}}},G=function(O,Q){if(typeof O==="string"){try{return B.rdf.resource(O,Q)}catch(S){try{return B.rdf.blank(O,Q)}catch(R){try{return B.rdf.literal(O,Q)}catch(P){throw"Bad Triple: Object "+O+" is not a resource or a literal "+P}}}}else{return O}},a=function(R,P,Q){var O;if(typeof P==="string"){O=P.substring(1);if(Q[O]&&Q[O]!==R){return null}else{Q[O]=R;return Q}}else{if(P===R){return Q}else{return null}}},M=function(O,P){if(O.union===undefined){if(P.subject.type!==undefined){if(O.subjectIndex[P.subject]===undefined){return[]}return B.map(O.subjectIndex[P.subject],function(Q){var R=P.exec(Q);return R===null?null:{bindings:R,triples:[Q]}})}else{if(P.object.type==="uri"||P.object.type==="bnode"){if(O.objectIndex[P.object]===undefined){return[]}return B.map(O.objectIndex[P.object],function(Q){var R=P.exec(Q);return R===null?null:{bindings:R,triples:[Q]}})}else{if(P.property.type!==undefined){if(O.propertyIndex[P.property]===undefined){return[]}return B.map(O.propertyIndex[P.property],function(Q){var R=P.exec(Q);return R===null?null:{bindings:R,triples:[Q]}})}}}}return B.map(O.triples(),function(Q){var R=P.exec(Q);return R===null?null:{bindings:R,triples:[Q]}})},n=function(O,Q,P){return B.map(O,function(T,R){var S=B.map(Q,function(W){var V,U,X=true;for(V in W.bindings){U=W.bindings[V];if(!(T.bindings[V]===undefined||T.bindings[V]===U)){X=false;break}}return X?W:null});if(S.length>0){return B.map(S,function(U){return{bindings:B.extend({},T.bindings,U.bindings),triples:B.unique(T.triples.concat(U.triples))}})}else{return P?T:null}})},N=function(O,Q){var P,R,S;if(Q.filterExp!==undefined&&!B.isFunction(Q.filterExp)){if(O.union===undefined){P=typeof Q.filterExp.subject==="string"?"":Q.filterExp.subject;R=typeof Q.filterExp.property==="string"?"":Q.filterExp.property;S=typeof Q.filterExp.object==="string"?"":Q.filterExp.object;if(O.queries[P]===undefined){O.queries[P]={}}if(O.queries[P][R]===undefined){O.queries[P][R]={}}if(O.queries[P][R][S]===undefined){O.queries[P][R][S]=[]}O.queries[P][R][S].push(Q)}else{B.each(O.union,function(U,T){N(T,Q)})}}},y=function(O){O.length=0;O.matches=[];B.each(O.children,function(P,Q){y(Q)});B.each(O.partOf,function(P,Q){y(Q)})},C=function(P,O){if(O.length>0){B.each(P.children,function(Q,R){D(R,O)});B.each(P.partOf,function(Q,R){C(R,O)});B.each(O,function(R,Q){P.matches.push(Q);Array.prototype.push.call(P,Q.bindings)})}},l=function(X,aa){var V,P,ab,U,T,S,Z,O=aa.length,R,W={},Q={},ac={},Y=[];for(V=0;V<X.length;V+=1){P=X[V].bindings;ab=X[V].triples;Q=ac;for(U=0;U<O;U+=1){S=aa[U];Z=P[S];if(U===O-1){if(Q[Z]===undefined){W={bindings:{},triples:ab};for(T=0;T<O;T+=1){W.bindings[aa[T]]=P[aa[T]]}Q[Z]=W;Y.push(W)}else{W=Q[Z];W.triples=W.triples.concat(ab)}}else{if(Q[Z]===undefined){Q[Z]={}}Q=Q[Z]}}}return Y},H=function(U,O){var S,P,R,T={},Q=[];for(S=0;S<U.length;S+=1){P=U[S];if(T[P.bindings[O]]===undefined){R={bindings:{node:P.bindings[O]},triples:P.triples};Q.push(R);T[P.bindings[O]]=R}else{R=T[P.bindings[O]];R.triples=R.triples.concat(P.triples)}}return Q},D=function(Q,P){var O;if(Q.union===undefined){if(Q.top||Q.parent.top){O=Q.alphaMemory}else{P=P||Q.parent.matches;if(B.isFunction(Q.filterExp)){O=B.map(P,function(R,S){return Q.filterExp.call(R.bindings,S,R.bindings,R.triples)?R:null})}else{if(Q.filterExp!==undefined){O=n(P,Q.alphaMemory,Q.filterExp.optional)}else{O=P}}}}else{O=B.map(Q.union,function(R){return R.matches})}if(Q.selections!==undefined){O=l(O,Q.selections)}else{if(Q.navigate!==undefined){O=H(O,Q.navigate)}}C(Q,O)},m=function(Q,P){var O;if(Q.filterExp.optional){y(Q);D(Q)}else{if(Q.top||Q.parent.top){O=[P]}else{O=n(Q.parent.matches,[P],false)}C(Q,O)}},I=function(P,Q){var O,R=P.filterExp.exec(Q);if(R!==null){O={triples:[Q],bindings:R};P.alphaMemory.push(O);m(P,O)}},c=function(O,P){O.alphaMemory.splice(B.inArray(P,O.alphaMemory),1);y(O);D(O)},z=function(O,P){B.each(O,function(Q,R){I(R,P)})},k=function(O,P){B.each(O,function(Q,R){c(R,P)})},d=function(O,S){var P=S.subject,Q=S.property,R=S.object;if(O.union===undefined){if(O.queries[P]!==undefined){if(O.queries[P][Q]!==undefined){if(O.queries[P][Q][R]!==undefined){z(O.queries[P][Q][R],S)}if(O.queries[P][Q][""]!==undefined){z(O.queries[P][Q][""],S)}}if(O.queries[P][""]!==undefined){if(O.queries[P][""][R]!==undefined){z(O.queries[P][""][R],S)}if(O.queries[P][""][""]!==undefined){z(O.queries[P][""][""],S)}}}if(O.queries[""]!==undefined){if(O.queries[""][Q]!==undefined){if(O.queries[""][Q][R]!==undefined){z(O.queries[""][Q][R],S)}if(O.queries[""][Q][""]!==undefined){z(O.queries[""][Q][""],S)}}if(O.queries[""][""]!==undefined){if(O.queries[""][""][R]!==undefined){z(O.queries[""][""][R],S)}if(O.queries[""][""][""]!==undefined){z(O.queries[""][""][""],S)}}}}else{B.each(O.union,function(U,T){d(T,S)})}},q=function(O,S){var P=S.subject,Q=S.property,R=S.object;if(O.union===undefined){if(O.queries[P]!==undefined){if(O.queries[P][Q]!==undefined){if(O.queries[P][Q][R]!==undefined){k(O.queries[P][Q][R],S)}if(O.queries[P][Q][""]!==undefined){k(O.queries[P][Q][""],S)}}if(O.queries[P][""]!==undefined){if(O.queries[P][""][R]!==undefined){k(O.queries[P][""][R],S)}if(O.queries[P][""][""]!==undefined){k(O.queries[P][""][""],S)}}}if(O.queries[""]!==undefined){if(O.queries[""][Q]!==undefined){if(O.queries[""][Q][R]!==undefined){k(O.queries[""][Q][R],S)}if(O.queries[""][Q][""]!==undefined){k(O.queries[""][Q][""],S)}}if(O.queries[""][""]!==undefined){if(O.queries[""][""][R]!==undefined){k(O.queries[""][""][R],S)}if(O.queries[""][""][""]!==undefined){k(O.queries[""][""][""],S)}}}}else{B.each(O.union,function(U,T){q(T,S)})}},w=function(V,U,S){var O=U[0],R={},Q=[],P,T;S=S||{};if(U.length===0){for(P=0;P<V.length;P+=1){for(v in V[P]){if(S[v]===undefined){S[v]=[]}if(B.isArray(S[v])){S[v].push(V[P][v])}}}return[S]}for(P=0;P<V.length;P+=1){key=V[P][O];if(R[key]===undefined){R[key]=[]}R[key].push(V[P])}U=U.splice(1,1);for(v in R){T=B.extend({},S);T[O]=R[v][0][O];Q=Q.concat(w(R[v],U,T))}return Q},j=function(O,P,Q){if(K[O.id]===undefined){K[O.id]={}}if(K[O.id][P]===undefined){K[O.id][P]=Q;return false}return true};dequeue=function(P,R,O,Q){var S=K[P.id][R];if(B.isFunction(S[O])){S[O].call(P,Q)}K[P.id][R]=undefined};B.typedValue.types["http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"]={regex:/^.*$/m,strip:false,value:function(O){return O}};B.rdf=function(O){return new B.rdf.fn.init(O)};B.rdf.fn=B.rdf.prototype={rdfquery:"1.1",init:function(O){var Q,P;O=O||{};this.parent=O.parent;this.union=O.union;this.top=this.parent===undefined&&this.union===undefined;if(this.union===undefined){if(O.databank===undefined){this.databank=this.parent===undefined?B.rdf.databank(O.triples,O):this.parent.databank}else{this.databank=O.databank}}else{Q=B.map(this.union,function(R){return R.databank});Q=B.unique(Q);if(Q[1]!==undefined){this.databank=B.rdf.databank(undefined,{union:Q})}else{this.databank=Q[0]}}this.children=[];this.partOf=[];this.filterExp=O.filter;this.selections=O.distinct;this.navigate=O.navigate;this.alphaMemory=[];this.matches=[];this.length=0;if(this.filterExp!==undefined){if(!B.isFunction(this.filterExp)){N(this.databank,this);this.alphaMemory=M(this.databank,this.filterExp)}}else{if(O.nodes!==undefined){this.alphaMemory=[];for(P=0;P<O.nodes.length;P+=1){this.alphaMemory.push({bindings:{node:O.nodes[P]},triples:[]})}}}D(this);return this},base:function(O){if(O===undefined){return this.databank.base()}else{this.databank.base(O);return this}},prefix:function(P,O){if(O===undefined){return this.databank.prefix(P)}else{this.databank.prefix(P,O);return this}},add:function(R,P){var Q,O;if(R.rdfquery!==undefined){if(R.top){O=this.databank.add(R.databank);Q=B.rdf({parent:this.parent,databank:O});return Q}else{if(this.top){O=R.databank.add(this.databank);Q=B.rdf({parent:R.parent,databank:O});return Q}else{if(this.union===undefined){Q=B.rdf({union:[this,R]});this.partOf.push(Q);R.partOf.push(Q);return Q}else{this.union.push(R);R.partOf.push(this)}}}}else{if(typeof R==="string"){P=B.extend({},{base:this.base(),namespaces:this.prefix(),source:R},P);R=B.rdf.pattern(R,P)}if(R.isFixed()){this.databank.add(R.triple(),P)}else{Q=this;this.each(function(T,U){var S=R.triple(U);if(S!==null){Q.databank.add(S,P)}})}}return this},remove:function(P,O){if(typeof P==="string"){O=B.extend({},{base:this.base(),namespaces:this.prefix()},O);P=B.rdf.pattern(P,O)}if(P.isFixed()){this.databank.remove(P.triple(),O)}else{query=this;this.each(function(R,S){var Q=P.triple(S);if(Q!==null){query.databank.remove(Q,O)}})}return this},load:function(Q,O){var P=this,O=O||{},R=O.success;if(R!==undefined){O.success=function(){R.call(P)}}this.databank.load(Q,O);return this},except:function(O){return B.rdf({databank:this.databank.except(O.databank)})},where:function(Q,P){var T,S,R,O;P=P||{};if(typeof Q==="string"){S=P.base||this.base();R=B.extend({},this.prefix(),P.namespaces||{});O=P.optional||false;Q=B.rdf.pattern(Q,{namespaces:R,base:S,optional:O})}T=B.rdf(B.extend({},P,{parent:this,filter:Q}));this.children.push(T);return T},optional:function(P,O){return this.where(P,B.extend({},O||{},{optional:true}))},about:function(P,O){return this.where(P+" ?property ?value",O)},filter:function(Q,R){var O,P;if(typeof Q==="string"){if(R.constructor===RegExp){O=function(){return R.test(this[Q].value)}}else{O=function(){return this[Q].type==="literal"?this[Q].value===R:this[Q]===R}}}else{O=Q}P=B.rdf({parent:this,filter:O});this.children.push(P);return P},node:function(Q){var O,P;if(Q.toString().substring(0,1)==="?"){O=Q.toString().substring(1);P=B.rdf({parent:this,navigate:O})}else{if(typeof Q==="string"){Q=G(Q,{namespaces:this.prefix(),base:this.base()})}P=B.rdf({parent:this,nodes:[Q]})}this.children.push(P);return P},find:function(O){return this.where("?node "+O+" ?object",{navigate:"object"})},back:function(O){return this.where("?subject "+O+" ?node",{navigate:"subject"})},group:function(T){var S={},R=[],Q,P,O;if(!B.isArray(T)){T=[T]}return B(w(this,T))},select:function(R){var Q=[],P,O;for(P=0;P<this.length;P+=1){if(R===undefined){Q[P]=this[P]}else{Q[P]={};for(O=0;O<R.length;O+=1){Q[P][R[O]]=this[P][R[O]]}}}return Q},describe:function(S){var P,O,R,Q=[];for(P=0;P<S.length;P+=1){R=S[P];if(R.substring(0,1)==="?"){R=R.substring(1);for(O=0;O<this.length;O+=1){Q.push(this[O][R])}}else{Q.push(R)}}return this.databank.describe(Q)},eq:function(O){return this.filter(function(P){return P===O})},reset:function(){var O=this;while(O.parent!==undefined){O=O.parent}return O},end:function(){return this.parent},size:function(){return this.length},sources:function(){return B(B.map(this.matches,function(O){return[O.triples]}))},dump:function(O){var P=B.map(this.matches,function(Q){return Q.triples});O=B.extend({namespaces:this.databank.namespaces,base:this.databank.base},O||{});return B.rdf.dump(P,O)},get:function(O){return(O===undefined)?B.makeArray(this):this[O]},each:function(O){B.each(this.matches,function(Q,P){O.call(P.bindings,Q,P.bindings,P.triples)});return this},map:function(O){return B(B.map(this.matches,function(P,Q){return O.call(P.bindings,Q,P.bindings,P.triples)}))},jquery:function(){return B(this)}};B.rdf.fn.init.prototype=B.rdf.fn;B.rdf.gleaners=[];B.rdf.parsers={};B.rdf.dump=function(V,O){var R=B.extend({},B.rdf.dump.defaults,O||{}),T=R.format,Q=R.serialize,S,U,P;U=B.rdf.parsers[T];if(U===undefined){P=[];for(p in B.rdf.parsers){P.push(p)}throw"Unrecognised dump format: "+T+". Expected one of "+P.join(", ")}S=U.dump(V,R);return Q?U.serialize(S):S};B.rdf.dump.defaults={format:"application/json",serialize:false,indent:false,namespaces:{}};B.fn.rdf=function(P){var O=[],P=P||function(){return this};if(B(this)[0]&&B(this)[0].nodeType===9){return B(this).children("*").rdf(P)}else{if(B(this).length>0){O=B(this).map(function(Q,R){return B.map(B.rdf.gleaners,function(S){return S.call(B(R),{callback:P})})});return B.rdf({triples:O,namespaces:B(this).xmlns()})}else{return B.rdf()}}};B.extend(B.expr[":"],{about:function(P,R,O){var Q=B(P),T=O[3]?Q.safeCurie(O[3]):null,S=false;B.each(B.rdf.gleaners,function(U,V){S=V.call(Q,{about:T});if(S){return null}});return S},type:function(P,R,O){var Q=B(P),S=O[3]?Q.curie(O[3]):null,T=false;B.each(B.rdf.gleaners,function(U,V){if(V.call(Q,{type:S})){T=true;return null}});return T}});B.rdf.databank=function(P,O){return new B.rdf.databank.fn.init(P,O)};B.rdf.databank.fn=B.rdf.databank.prototype={init:function(Q,O){var P;Q=Q||[];O=O||{};this.id=E();F[this.id]=this;if(O.union===undefined){this.queries={};this.tripleStore=[];this.subjectIndex={};this.propertyIndex={};this.objectIndex={};this.baseURI=O.base||B.uri.base();this.namespaces=B.extend({},O.namespaces||{});for(P=0;P<Q.length;P+=1){this.add(Q[P])}}else{this.union=O.union}return this},base:function(O){if(this.union===undefined){if(O===undefined){return this.baseURI}else{this.baseURI=O;return this}}else{if(O===undefined){return this.union[0].base()}else{B.each(this.union,function(Q,P){P.base(O)});return this}}},prefix:function(Q,O){var P={};if(this.union===undefined){if(Q===undefined){return this.namespaces}else{if(O===undefined){return this.namespaces[Q]}else{this.namespaces[Q]=O;return this}}}else{if(O===undefined){B.each(this.union,function(S,R){B.extend(P,R.prefix())});if(Q===undefined){return P}else{return P[Q]}}else{B.each(this.union,function(S,R){R.prefix(Q,O)});return this}}},add:function(U,P){var S=(P&&P.base)||this.base(),R=B.extend({},this.prefix(),(P&&P.namespaces)||{}),T=(P&&P.depth)||B.rdf.databank.defaults.depth,Q=(P&&P.proxy)||B.rdf.databank.defaults.proxy,O;if(U===this){return this}else{if(U.subjectIndex!==undefined){if(this.union===undefined){O=B.rdf.databank(undefined,{union:[this,U]});return O}else{this.union.push(U);return this}}else{if(typeof U==="string"){U=B.rdf.triple(U,{namespaces:R,base:S,source:U})}if(this.union===undefined){if(this.subjectIndex[U.subject]===undefined){this.subjectIndex[U.subject]=[];if(T>0&&U.subject.type==="uri"){this.load(U.subject.value,{depth:T-1,proxy:Q})}}if(this.propertyIndex[U.property]===undefined){this.propertyIndex[U.property]=[];if(T>0){this.load(U.property.value,{depth:T-1,proxy:Q})}}if(B.inArray(U,this.subjectIndex[U.subject])===-1){this.tripleStore.push(U);this.subjectIndex[U.subject].push(U);this.propertyIndex[U.property].push(U);if(U.object.type==="uri"||U.object.type==="bnode"){if(this.objectIndex[U.object]===undefined){this.objectIndex[U.object]=[];if(T>0&&U.object.type==="uri"){this.load(U.object.value,{depth:T-1,proxy:Q})}}this.objectIndex[U.object].push(U)}d(this,U)}}else{B.each(this.union,function(W,V){V.add(U)})}return this}}},remove:function(U,R){var T=(R&&R.base)||this.base(),S=B.extend({},this.prefix(),(R&&R.namespaces)||{}),V,P,O,Q;if(typeof U==="string"){U=B.rdf.triple(U,{namespaces:S,base:T,source:U})}this.tripleStore.splice(B.inArray(U,this.tripleStore),1);V=this.subjectIndex[U.subject];if(V!==undefined){V.splice(B.inArray(U,V),1)}P=this.propertyIndex[U.property];if(P!==undefined){P.splice(B.inArray(U,P),1)}if(U.object.type==="uri"||U.object.type==="bnode"){O=this.objectIndex[U.object];if(O!==undefined){O.splice(B.inArray(U,O),1)}}q(this,U);return this},except:function(P){var O=P.subjectIndex,Q=[];B.each(this.subjectIndex,function(S,T){var R=O[S];if(R===undefined){Q=Q.concat(T)}else{B.each(T,function(V,U){if(B.inArray(U,R)===-1){Q.push(U)}})}});return B.rdf.databank(Q)},triples:function(){var O,P=[];if(this.union===undefined){P=this.tripleStore}else{B.each(this.union,function(R,Q){P=P.concat(Q.triples().get())});P=B.unique(P)}return B(P)},size:function(){return this.triples().length},describe:function(R){var P,Q,O,T={},S=[];while(R.length>0){Q=R.pop();if(T[Q]===undefined){if(Q.value===undefined){Q=B.rdf.resource(Q)}if(this.subjectIndex[Q]!==undefined){for(P=0;P<this.subjectIndex[Q].length;P+=1){O=this.subjectIndex[Q][P];S.push(O);if(O.object.type==="bnode"){R.push(O.object)}}}if(this.objectIndex[Q]!==undefined){for(P=0;P<this.objectIndex[Q].length;P+=1){O=this.objectIndex[Q][P];S.push(O);if(O.subject.type==="bnode"){R.push(O.subject)}}}T[Q]=true}}return B.unique(S)},dump:function(O){O=B.extend({namespaces:this.namespaces,base:this.base},O||{});return B.rdf.dump(this.triples(),O)},load:function(U,O){var V,ab,Q,Y,P,R,Z=(O&&O.format),S=(O&&O.async)||B.rdf.databank.defaults.async,aa=(O&&O.success)||B.rdf.databank.defaults.success,X=(O&&O.error)||B.rdf.databank.defaults.error,W=(O&&O.proxy)||B.rdf.databank.defaults.proxy,T=(O&&O.depth)||B.rdf.databank.defaults.depth;Q=(typeof U==="string"&&U.substring(1,7)==="http://")?B.uri(U):U;if(Q.scheme){if(!j(this,Q,{success:aa,error:X})){Y='<script type="text/javascript" src="'+W+"?id="+this.id+"&amp;depth="+T+"&amp;url="+encodeURIComponent(Q.resolve("").toString())+'"><\/script>';if(S){setTimeout("$('head').append('"+Y+"')",0)}else{B("head").append(Y)}}return this}else{if(Z===undefined){if(typeof U==="string"){if(U.substring(0,1)==="{"){Z="application/json"}else{if(U.substring(0,14)==="<!DOCTYPE html"||U.substring(0,5)==="<html"){Z="application/xhtml+xml"}else{if(U.substring(0,5)==="<?xml"||U.substring(0,8)==="<rdf:RDF"){Z="application/rdf+xml"}else{Z="text/turtle"}}}}else{if(U.documentElement||U.ownerDocument){R=U.documentElement?U.documentElement:U.ownerDocument.documentElement;if(R.nodeName==="html"){Z="application/xhtml+xml"}else{Z="application/rdf+xml"}}else{Z="application/json"}}}P=B.rdf.parsers[Z];if(typeof U==="string"){U=P.parse(U)}ab=P.triples(U);for(V=0;V<ab.length;V+=1){this.add(ab[V],O)}return this}},toString:function(){return"[Databank with "+this.size()+" triples]"}};B.rdf.databank.fn.init.prototype=B.rdf.databank.fn;B.rdf.databank.defaults={parse:false,async:true,success:null,error:null,depth:0,proxy:"http://www.jenitennison.com/rdfquery/proxy.php"};B.rdf.databank.load=function(R,O,Q,P){if(Q!==undefined){F[R].load(Q,P)}dequeue(F[R],O,(Q===undefined)?"error":"success",P)};B.rdf.pattern=function(S,U,R,Q){var T,O,P;if(R===undefined){Q=U||{};O=B.trim(S).match(f);if(O.length===3||(O.length===4&&O[3]===".")){S=O[0];U=O[1];R=O[2]}else{throw"Bad Pattern: Couldn't parse string "+S}P=(Q.optional===undefined)?B.rdf.pattern.defaults.optional:Q.optional}if(o[S]&&o[S][U]&&o[S][U][R]&&o[S][U][R][P]){return o[S][U][R][P]}T=new B.rdf.pattern.fn.init(S,U,R,Q);if(o[T.subject]&&o[T.subject][T.property]&&o[T.subject][T.property][T.object]&&o[T.subject][T.property][T.object][T.optional]){return o[T.subject][T.property][T.object][T.optional]}else{if(o[T.subject]===undefined){o[T.subject]={}}if(o[T.subject][T.property]===undefined){o[T.subject][T.property]={}}if(o[T.subject][T.property][T.object]===undefined){o[T.subject][T.property][T.object]={}}o[T.subject][T.property][T.object][T.optional]=T;return T}};B.rdf.pattern.fn=B.rdf.pattern.prototype={init:function(P,R,S,O){var Q=B.extend({},B.rdf.pattern.defaults,O);this.subject=P.toString().substring(0,1)==="?"?P:i(P,Q);this.property=R.toString().substring(0,1)==="?"?R:J(R,Q);this.object=S.toString().substring(0,1)==="?"?S:G(S,Q);this.optional=Q.optional;return this},fill:function(R){var O=this.subject,P=this.property,Q=this.object;if(typeof O==="string"&&R[O.substring(1)]){O=R[O.substring(1)]}if(typeof P==="string"&&R[P.substring(1)]){P=R[P.substring(1)]}if(typeof Q==="string"&&R[Q.substring(1)]){Q=R[Q.substring(1)]}return B.rdf.pattern(O,P,Q,{optional:this.optional})},exec:function(P){var O={};O=a(P.subject,this.subject,O);if(O===null){return null}O=a(P.property,this.property,O);if(O===null){return null}O=a(P.object,this.object,O);return O},isFixed:function(){return typeof this.subject!=="string"&&typeof this.property!=="string"&&typeof this.object!=="string"},triple:function(P){var O=this;if(!this.isFixed()){O=this.fill(P)}if(O.isFixed()){return B.rdf.triple(O.subject,O.property,O.object,{source:this.toString()})}else{return null}},toString:function(){return this.subject+" "+this.property+" "+this.object}};B.rdf.pattern.fn.init.prototype=B.rdf.pattern.fn;B.rdf.pattern.defaults={base:B.uri.base(),namespaces:{},optional:false};B.rdf.triple=function(R,T,Q,P){var U,S,O;if(Q===undefined){P=T;O=B.trim(R).match(f);if(O.length===3||(O.length===4&&O[3]===".")){R=O[0];T=O[1];Q=O[2]}else{throw"Bad Triple: Couldn't parse string "+R}}S=(P&&P.graph)||"";if(A[S]&&A[S][R]&&A[S][R][T]&&A[S][R][T][Q]){return A[S][R][T][Q]}U=new B.rdf.triple.fn.init(R,T,Q,P);S=U.graph||"";if(A[S]&&A[S][U.subject]&&A[S][U.subject][U.property]&&A[S][U.subject][U.property][U.object]){return A[S][U.subject][U.property][U.object]}else{if(A[S]===undefined){A[S]={}}if(A[S][U.subject]===undefined){A[S][U.subject]={}}if(A[S][U.subject][U.property]===undefined){A[S][U.subject][U.property]={}}A[S][U.subject][U.property][U.object]=U;return U}};B.rdf.triple.fn=B.rdf.triple.prototype={init:function(P,R,S,O){var Q;Q=B.extend({},B.rdf.triple.defaults,O);this.subject=i(P,Q);this.property=J(R,Q);this.object=G(S,Q);this.graph=Q.graph===undefined?undefined:i(Q.graph,Q);this.source=Q.source;return this},isFixed:function(){return true},triple:function(O){return this},dump:function(){var Q={},O=this.subject.value.toString(),P=this.property.value.toString();Q[O]={};Q[O][P]=this.object.dump();return Q},toString:function(){return this.subject+" "+this.property+" "+this.object+" ."}};B.rdf.triple.fn.init.prototype=B.rdf.triple.fn;B.rdf.triple.defaults={base:B.uri.base(),source:[document],namespaces:{}};B.rdf.resource=function(Q,O){var P;if(e[Q]){return e[Q]}P=new B.rdf.resource.fn.init(Q,O);if(e[P]){return e[P]}else{e[P]=P;return P}};B.rdf.resource.fn=B.rdf.resource.prototype={type:"uri",value:undefined,init:function(T,P){var O,S,R,Q;if(typeof T==="string"){O=x.exec(T);Q=B.extend({},B.rdf.resource.defaults,P);if(O!==null){this.value=B.uri.resolve(O[1].replace(/\\>/g,">"),Q.base)}else{if(T.substring(0,1)===":"){R=Q.namespaces[""];if(R===undefined){throw"Malformed Resource: No namespace binding for default namespace in "+T}else{this.value=B.uri.resolve(R+T.substring(1))}}else{if(T.substring(T.length-1)===":"){S=T.substring(0,T.length-1);R=Q.namespaces[S];if(R===undefined){throw"Malformed Resource: No namespace binding for prefix "+S+" in "+T}else{this.value=B.uri.resolve(R)}}else{try{this.value=B.curie(T,{namespaces:Q.namespaces})}catch(U){throw"Malformed Resource: Bad format for resource "+U}}}}}else{this.value=T}return this},dump:function(){return{type:"uri",value:this.value.toString()}},toString:function(){return"<"+this.value+">"}};B.rdf.resource.fn.init.prototype=B.rdf.resource.fn;B.rdf.resource.defaults={base:B.uri.base(),namespaces:{}};B.rdf.type=B.rdf.resource("<"+t+"type>");B.rdf.label=B.rdf.resource("<"+s+"label>");B.rdf.first=B.rdf.resource("<"+t+"first>");B.rdf.rest=B.rdf.resource("<"+t+"rest>");B.rdf.nil=B.rdf.resource("<"+t+"nil>");B.rdf.subject=B.rdf.resource("<"+t+"subject>");B.rdf.property=B.rdf.resource("<"+t+"property>");B.rdf.object=B.rdf.resource("<"+t+"object>");B.rdf.blank=function(O){var P;if(b[O]){return b[O]}P=new B.rdf.blank.fn.init(O);if(b[P]){return b[P]}else{b[P]=P;return P}};B.rdf.blank.fn=B.rdf.blank.prototype={type:"bnode",value:undefined,id:undefined,init:function(O){if(O==="[]"){this.id=h();this.value="_:"+this.id}else{if(O.substring(0,2)==="_:"){this.id=O.substring(2);this.value=O}else{throw"Malformed Blank Node: "+O+" is not a legal format for a blank node"}}return this},dump:function(){return{type:"bnode",value:this.value}},toString:function(){return this.value}};B.rdf.blank.fn.init.prototype=B.rdf.blank.fn;B.rdf.literal=function(Q,O){var P;if(r[Q]){return r[Q]}P=new B.rdf.literal.fn.init(Q,O);if(r[P]){return r[P]}else{r[P]=P;return P}};B.rdf.literal.fn=B.rdf.literal.prototype={type:"literal",value:undefined,lang:undefined,datatype:undefined,init:function(S,P){var O,Q,R=B.extend({},B.rdf.literal.defaults,P);Q=B.safeCurie(R.datatype,{namespaces:R.namespaces});if(R.lang!==undefined&&R.datatype!==undefined&&Q.toString()!==(t+"XMLLiteral")){throw"Malformed Literal: Cannot define both a language and a datatype for a literal ("+S+")"}if(R.datatype!==undefined){Q=B.safeCurie(R.datatype,{namespaces:R.namespaces});B.extend(this,B.typedValue(S.toString(),Q));if(Q.toString()===t+"XMLLiteral"){this.lang=R.lang}}else{if(R.lang!==undefined){this.value=S.toString();this.lang=R.lang}else{if(typeof S==="boolean"){B.extend(this,B.typedValue(S.toString(),g+"boolean"))}else{if(typeof S==="number"){B.extend(this,B.typedValue(S.toString(),g+"double"))}else{if(S==="true"||S==="false"){B.extend(this,B.typedValue(S,g+"boolean"))}else{if(B.typedValue.valid(S,g+"integer")){B.extend(this,B.typedValue(S,g+"integer"))}else{if(B.typedValue.valid(S,g+"decimal")){B.extend(this,B.typedValue(S,g+"decimal"))}else{if(B.typedValue.valid(S,g+"double")&&!/^\s*([\-\+]?INF|NaN)\s*$/.test(S)){B.extend(this,B.typedValue(S,g+"double"))}else{O=L.exec(S);if(O!==null){this.value=(O[2]||O[4]).replace(/\\"/g,'"').replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\r/g,"\r");if(O[9]){Q=B.rdf.resource(O[9],R);B.extend(this,B.typedValue(this.value,Q.value))}else{if(O[7]){this.lang=O[7]}}}else{throw"Malformed Literal: Couldn't recognise the value "+S}}}}}}}}}return this},dump:function(){var O={type:"literal",value:this.value.toString()};if(this.lang!==undefined){O.lang=this.lang}else{if(this.datatype!==undefined){O.datatype=this.datatype.toString()}}return O},toString:function(){var O='"'+this.value+'"';if(this.lang!==undefined){O+="@"+this.lang}else{if(this.datatype!==undefined){O+="^^<"+this.datatype+">"}}return O}};B.rdf.literal.fn.init.prototype=B.rdf.literal.fn;B.rdf.literal.defaults={base:B.uri.base(),namespaces:{},datatype:undefined,lang:undefined}})(jQuery);